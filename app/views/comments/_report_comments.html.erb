<%= form_with model: [commentable, comment] do |f| %>
  <%= f.text_area :comment %>
  <%= f.submit t('views.common.submit') %>
<% end %>

<table>
  <thead>
    <tr>
      <th><%= Comment.human_attribute_name(:user) %></th>
      <th><%= Comment.human_attribute_name(:comment) %></th>
      <th><%= t('views.common.post_time') %></th>
  </thead>
  <tbody>
    <% if comments.present? %>
      <% comments.each do |comment| %>
        <tr>
          <td><%= comment.user.name_or_email %></td>
          <td><%= comment.comment %></td>
          <td><%= comment.created_at %></td>
          <td><%= link_to t('views.common.destroy'), report_comment_path(commentable, comment), method: :delete if current_user == comment.user %></td>
        </tr>
      <% end %>
    <% else %>
      <p><%= Comment.human_attribute_name(:nothing) %></p>
    <% end %>
  </tbody>
</table>
